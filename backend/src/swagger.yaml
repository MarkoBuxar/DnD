openapi: 3.0.0
info:
  version: 1.0.0
  title: D&D character sheet
  description: Fringilla sociis posuere tellus dui
servers:
  - url: http://localhost:3000/
  - url: https://localhost:3000/
paths:
  /:
    get:
      tags:
        - API
      summary: keep alive
      description: used to check if api is available
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
  /characters/{user_id}:
    get:
      tags:
        - Characters
      summary: return list of characters
      description: Returns all characters belonging to a user
      operationId: getCharacters
      parameters:
        - name: user_id
          in: path
          required: true
          description: User ID recieved on authentication
          schema:
            type: integer
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CharacterInfo'
  /character/{character_id}:
    get:
      tags:
        - Characters
      summary: Get detailed character info
      description: Returns all info about a character
      operationId: getCharacter
      parameters:
        - name: character_id
          in: path
          required: true
          description: Character ID
          schema:
            type: integer
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Character'

components:
  schemas:
    Character:
      type: object
      required:
        - info
        - stats
        - languages
        - gold
      properties:
        info:
          $ref: '#/components/schemas/CharacterInfo'
        stats:
          $ref: '#/components/schemas/CharacterStats'
        languages:
          type: array
          items:
            $ref: '#/components/schemas/Language'
        gold:
          $ref: '#/components/schemas/GoldPouch'
    CharacterInfo:
      type: object
      required:
        - user_id
        - character_id
        - creation_date
        - character_name
        - lvl
        - xp
        - age
        - gender
        - race
        - class
        - size
        - weight
        - eye_colour
        - handedness
        - physical_desc
      properties:
        user_id:
          type: integer
        character_id:
          type: integer
        creation_date:
          type: string
          format: date-time
        character_name:
          type: string
        lvl:
          type: integer
        xp:
          type: integer
        age:
          type: integer
        gender:
          type: string
        race:
          type: string
        class:
          type: string
        size:
          type: string
        height:
          type: string
        weight:
          type: integer
        eye_colour:
          type: string
        handedness:
          type: string
        physical_desc:
          type: string
    CharacterStats:
      type: object
      required:
        - walking_speed
        - strength
        - dexterity
        - constitution
        - intelligence
        - wisdom
        - charisma
        - max_hp
        - temp_hp
        - curr_hp
      properties:
        walking_speed:
          type: integer
        climbing_speed:
          type: integer
        swimming_speed:
          type: integer
        strength:
          type: integer
          maximum: 30
          minimum: 1
        dexterity:
          type: integer
          maximum: 30
          minimum: 1
        constitution:
          type: integer
          maximum: 30
          minimum: 1
        intelligence:
          type: integer
          maximum: 30
          minimum: 1
        wisdom:
          type: integer
          maximum: 30
          minimum: 1
        charisma:
          type: integer
          maximum: 30
          minimum: 1
        max_hp:
          type: integer
        temp_hp:
          type: integer
        curr_hp:
          type: integer
        exhaustion:
          type: integer
        armour:
          $ref: '#/components/schemas/Armour'
        concentration:
          $ref: '#/components/schemas/Spell'
    Language:
      type: object
      required:
        - language_name
        - language_type
      properties:
        language_name:
          type: string
        language_type:
          type: string
        language_description:
          type: string
    GoldPouch:
      type: object
      required:
        - CP
        - SP
        - EP
        - GP
        - PP
      properties:
        CP:
          type: integer
        SP:
          type: integer
        EP:
          type: integer
        GP:
          type: integer
        PP:
          type: integer

    Armour:
      type: object
    Spell:
      type: object
